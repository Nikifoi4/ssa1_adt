# Стандартные потоки

Весь Linux построен на работе с текстом и файлами. Для передачи данных между приложениями в Linux есть STD(Standard streams)

### STD

При запуске любой программы в Linux у неё есть 3 точки взаимодействия при помощи текста

```
+-------+
| Input |
+---+---+
    | /dev/stdin   +------------+
    +------------->|            |
                   |  Programm  |
                   |            | /dev/stdout +------+
                   +--------+---+------------>|Output|
                            |                 +------+
                            |
                            |
                            |
                            | /dev/stderr   +-------+
                            +-------------->| Error |
                                            +-------+
```

#### /dev/stdin

Это вход, откуда программа берёт данные для обработки.

#### /dev/stdout

Вывод программы.

#### /dev/stderr

Вывод статуса выполнения программы.

Если выполнение прошло успешно, то туда будет записан 0, в иных ситуациях будет дан код ошибки.



## Переправление потоков

При помощи этих потоков мы можем с большой лёгкостью обрабатывать вывод любых программ, делать различные фильтрации, автоматизации и т. п.

Для этого используют так называемые пайплайны(от англ. pipeline) или конвейеры.

Для взаимодействия с потоками `/dev/stdin` и `/dev/stdout` в терминале у нас есть несколько специальных символов:

### |

`|` - символ pipline

Он используется для передачи вывода одной программы на вход другой, например:

```
ls -1 /lib | grep lib
```

Разберём по порядку. Команда `ls -l /lib` выведет все имена файлов из папки `/lib/` в столбик. Далее `|` перенаправляет этот текст в команду `grep lib`, которая в свою очередь выведет только строчки содержащие слово `lib` в названии, без учёта регистра символов.

### > и >>

Часто нам нужно сохранить вывод нашего конвейера в какой-либо файл, для этого есть символы `>` и `>>`

`>` берёт вывод предыдущий программы и переписывает полученными данными файл указанный вами.
```
echo "Э мамбо, мамбо италиано" > italy.lang
```
Эта команда запишет `Э а о, мамбо италиано` в файл `italy.lang`

`>>` берёт вывод предыдущий программы и добавляет его в конец указанного вами файла.
```
echo "Го го го, йо миксед ап Силиано" >> italy.lang
```
Эта команда добавит в конец файла `italy.lang` строку `Го го го, йо миксед ап Силиано`

## Программы взаимодействующие с потоками

Есть ряд крайне распространённых и полезных программ для работы с конвейерами, которые используются постоянно

### Grep
`GNU grep` от `search Globally for lines matching the Regular Expression, and Print them`

Программа берёт на вход какой-либо много строчный текст и выводит только строки, удовлетворяющие заданному [регулярному ворожению](https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5_%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F)

```
ls -1 /bin | grep grep
```
Выведет все файл в директории `/bin/` содержащие в название слово `grep` c учётом регистра.

### tee
`tee` - это крайне простая утилита, созданная, в основном для логгирования или получения промежуточных результатов конвеера
```
+-----------+     +-----+    +-----------+
| Programm1 +---->| tee +--->| Programm2 |
+-----------+     ++----+    +-----------+
                   |
                   +-->Log.txt
```

```
ls -1 ~/ | grep -i d | tee d | grep a > da
```
Эта команда выведет в файл `d` все файлы в вашей домашней директории содержащие в название `d` без учёта регистра, а в файл `da` все строки файла `d`, содержащие в название `a` с учётом регистра.

## Задание

Создать конвейер выводящий список файлов в `/lib/` содержащих в название `python`. И запись всего этого в файл `python_libs-name.txt`, где вместо `name` укажите свою фамилию.
